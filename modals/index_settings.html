<div class="modal fade custom-modal" id="index_settings_{{index.name}}">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" ng-click='closeModal()' aria-hidden="true">&times;</button>
				<h3 class="modal-title">update settings for [{{index.name}}]</h3>
      		</div>
			<form ng-controller="IndexSettingsCtrl" class="form" role="form">
				<div class="modal-body">
					<div ng-include src="'partials/modal_alerts.html'"></div>
					<div class="settings-section-header">index</div>
					<div class="row">
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">number_of_replicas</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="number of replicas each shard has. value must be a number equal or greather than 0" data-original-title="index.number_of_replicas" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.number_of_replicas']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">routing.allocation.total_shards_per_node</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="maximum number of shards for this index that each node can have" data-original-title="index.routing.allocation.total_shards_per_node" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.routing.allocation.total_shards_per_node']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">term_index_interval</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="the lucene index term interval. only applies to newly created docs" data-original-title="index.term_index_interval" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.term_index_interval']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">index_concurrency</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="limit on the number of concurrent threads that are allowed to perform indexing at the same time. defaults to 8" data-original-title="" title="index.index_concurrency">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.index_concurrency']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">ttl.disable_purge</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="disables temporarily the purge of expired docs" data-original-title="index.ttl.disable_purge" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.ttl.disable_purge']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">translog.fs.type</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="either simple or buffered (default)" data-original-title="index.translog.fs.type" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.translog.fs.type']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">warmer.enabled</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="enables/disables warmpup" data-original-title="index.warmer.enabled" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.warmer.enabled']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">fail_on_merge_failure</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="" data-original-title="" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.fail_on_merge_failure']" placeholder="">
							</div>
							

						</div>
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">auto_expand_replicas</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="set to an actual value (like 0-all) or false to disable it" data-original-title="index.auto_expand_replicas" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.auto_expand_replicas']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">refresh_interval</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="the async refresh interval of a shard" data-original-title="index.refresh_interval" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.refresh_interval']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">term_index_divisor</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="the lucene reader term index divisor" data-original-title="index.term_index_divisor" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.term_index_divisor']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">codec</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="codec. defaults to default" data-original-title="index.codec" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.codec']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">recovery.initial_shards</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="when using local gateway a particular shard is recovered only if there can be allocated quorum shards in the cluster. it can be set to quorum (default), quorum-1 (or half), full and full-1. number values are also supported, e.g. 1" data-original-title="index.recovery.initial_shards" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.recovery.initial_shards']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">compound_format</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="" data-original-title="" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.compound_format']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">gc_deletes</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="time for which elasticsearch keeps information about deleted documents. value should be a time interval(defaults to 1m)" data-original-title="index.gc_deletes" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.gc_deletes']" placeholder="">
							</div>
							
						</div>
					</div>
				</div>
				<div class="modal-body">
					<div class="settings-section-header">index.blocks</div>
					<div class="row">
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">blocks.read_only</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="set to true to have the index read only. false to allow writes and metadata changes" data-original-title="index.blocks.read_only" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.blocks.read_only']" disabled="true" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">blocks.read</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="set to true to disable read operations against the index" data-original-title="index.blocks.read" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.blocks.read']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
						</div>
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">blocks.write</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="set to true to disable write operations against the index" data-original-title="index.blocks.write" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.blocks.write']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
							<div class="form-group">
								<label class="ccontrol-label">blocks.metadata</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="set to true to disable metadata operations against the index" data-original-title="index.blocks.metadata" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.blocks.metadata']" disabled="true" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-body">
					<div class="settings-section-header">index.translog</div>
					<div class="row">
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">translog.flush_threshold_ops</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="when to flush based on operations" data-original-title="index.translog.flush_threshold ops" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.translog.flush_threshold_ops']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">translog.flush_threshold_size</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="when to flush based on translog (bytes) size" data-original-title="index.translog.flush_threshold_size" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.translog.flush_threshold_size']" placeholder="">
							</div>
						</div>
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">translog.flush_threshold_period</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="when to flush based on a period of not flushing" data-original-title="index.translog.flush_threshold_period" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.translog.flush_threshold_period']" placeholder="">
							</div>
							<div class="form-group">
								<label class="control-label">translog.disable_flush</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="disables flushing. Note, should be set for a short interval and then enabled." data-original-title="index.translog.disable_flush" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.translog.disable_flush']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-body">
					<div class="settings-section-header">index.routing.allocation</div>
					<div class="row">
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">disable_allocation</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="disable shards allocation. defaults to false" data-original-title="index.disable_allocation" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.routing.allocation.disable_allocation']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">disable_new_allocation</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="disable new shards allocation. defaults to false" data-original-title="index.disable_new_allocation" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.routing.allocation.disable_new_allocation']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
						</div>

						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">disable_replica_allocation</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="disable shard replica allocation. defaults to false" data-original-title="index.disable_replica_allocation" title="">
									<i class="icon-info-sign"></i>
								</a>
								<select ng-model="index.settings['index.routing.allocation.disable_replica_allocation']" class="form-control input-sm">
									<option value="true">true</option>
									<option value="false">false</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">node_initial_primaries_recoveries</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="" data-original-title="node_initial_primaries_recoveries" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['cluster.routing.allocation.node_initial_primaries_recoveries']" placeholder="">
							</div>
						</div>
					</div>
				</div>
				<div class="modal-body">
					<div class="settings-section-header">index.cache</div>
					<div class="row">
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">filter.max_size</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="the maximum size of filter cache (per segment in shard). Set to -1 to disable" data-original-title="index.filter.max_size" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.cache.filter.max_size']" placeholder="">
							</div>
						</div>
						<div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">filter.expire</label>
								<a href="#" class="setting-info" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="bottom" data-content="the expire after access time for filter cache. Set to -1 to disable" data-original-title="index.filter.expire" title="">
									<i class="icon-info-sign"></i>
								</a>
								<input type="text" class="form-control input-sm" ng-model="index.settings['index.cache.filter.expire']" placeholder="">
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal" ng-click='closeModal()'>Back</button>
					<button type="button" class="btn btn-primary" ng-click='saveSettings(index.name)'><i class="icon-ok"></i> Update</button>
				</div>
			</form>
    	</div>
  	</div>
</div>
<script>  
$(function ()  
{ $(".setting-info").popover();  
});  
</script>